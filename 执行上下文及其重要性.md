> 本文将详细地分析创建作用域的过程。分析创建作用域的过程有助于我们理解一些概念，比如闭包和IIFEs(立即执行函数)。
## 执行上下文
执行上下文不是一个具体的东西，而是一个抽象的概念，它对于描述JavaScript编译和执行代码的过程的某些部分非常有用。虽然我们都知道JavaScript是一门解释性语言，但是浏览器执行JavaScript的过程是需要一个编译阶段的。
与作用域一样，只要浏览器加载脚本，我们就进入全局执行上下文，每次调用一个函数(即使递归调用相同的函数)，都会创建它自己的函数执行上下文。
JavaScript是单线程的，这意味着一次只能发生一件事。由于执行上下文是在嵌套函数中创建的，因此不能同时执行它们，因此将它们添加到所谓的执行上下文堆栈中，以等待轮到它们执行。
## 执行上下文堆栈
观察下面的代码：
```
function one() {
  function two() {
    //some code
    function three() {
      //some code
      console.log("We are in function three!");
    }
  }
}
```
在第10行执行到“We are in function three!”的时候，我们已经有4个执行上下文:
```
1. function three's Execution Context
-------------------------------------
3. function two's Execution Context
-------------------------------------
2. function one's Execution Context
-------------------------------------
1. Global Execution Context
-------------------------------------
```
堆栈是后进先出LIFO结构，这意味着 “最后入” 是 “第一个出”。因此，在创建了4个执行上下文之后，第一个要处理的上下文将是函数three()的上下文;第二个函数是function two();等等.
这样解释起来是很简单，但是当我们创建一个执行上下文时具体做了什么事情呢？
## 两个步骤
执行上下文的生命周期基本上缩减为两个步骤:
1. 创建阶段
2. 代码执行阶段
完成这两个步骤后，执行上下文被销毁，JavaScript的解释器(负责“读取”代码并处理代码的解释器)将继续处理堆栈中的下一个执行上下文。创建阶段与编译密切相关，因此，为了理解它，我们将了解一下JavaScript的编译器。
## JavaScript的编译过程
虽然我们常说JavaScript不是一种编译语言，而是一种解释语言。但这并不是因为JavaScript没有编译过程。JavaScript与其他传统编译语言的最大区别在于，JavaScript在执行代码之前会编译代码。JavaScript的编译过程包括通常由其他编程语言提前完成的常见步骤