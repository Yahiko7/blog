## 执行环境及作用域 
执行环境也称执行上下文，作用域，是JavaScript中一个很重要的概念。执行环境定义了当前执行过程有权访问到的数据。每个执行环境都有一个与之关联的变量对象，环境中定义的变量和函数都保存在这个对象中。虽然我们的代码无法访问这个对象，但解析器在处理数据的时候会在后台使用到它。
正常来说，当某个执行环境中的所有代码都执行完毕，该环境会被销毁，保存在环境中的所有变量和函数定义也随之被销毁，被当做垃圾回收。
每个函数都有自己的执行环境，当执行流进入一个函数时，函数的环境会被推入一个环境栈中，而在函数执行之后，栈将环境弹出，把控制权返回给之前的执行环境。
在JavaScript中变量的作用域（执行环境）有全局作用域和局部作用域。
- 全局作用域 
- 局部作用域 —— 函数作用域
- 局部作用域 —— es6块级作用域
## 作用域链
当代码在一个环境中执行时，会创建变量对象的一个作用域链。作用域链的用途，是决定执行环境中变量和函数的有序范文。作用域的第一层，始终都是当前执行的代码所在环境的变量对象。如果这个环境是函数，其执行环境的变量对象最开始只包含一个变量，即arguments对象。作用域中的下一个变量对象来自包含（外部）环境，而再下一个变量对象则来自下一个包含环境，一直延伸到全局执行环境。函数内的变量就是从当前执行环境开始，沿着作用域链一级一级的进行查找，直到找到对应的数据为止。
## 什么是闭包？
闭包的解释方式有很多种，我把闭包做如下的定义，闭包就是有权访问另外一个函数作用域中变量的函数。创建闭包的常见方式，就是在一个函数内部创建另外一个函数。
```
function outFn(){
  var test = 'out';
    
  return inFn(){
      console.log(test)
  }
}
var a = outFn();
```
从作用域以及作用域链的角度来解释闭包，outFn函数执行完毕，outFn中的变量应当被销毁，但是这里比较特殊，因为内部inFn函数有用到outFn的变量，inFn通过作用域链找到外部环境的test变量，所以test变量不会被销毁。

## 延长作用域链